services:
  serializer.commerce_cart_api.cart:
      class: Drupal\commerce_cart_api\Normalizer\CartNormalizer
      tags:
        - { name: normalizer }
      arguments: ['@entity.manager']
  serializer.commerce_cart_api.order_item:
      class: Drupal\commerce_cart_api\Normalizer\OrderItemNormalizer
      tags:
        - { name: normalizer }
      arguments: ['@entity.manager']
  serialization.commerce_cart_api.price:
    class: Drupal\commerce_cart_api\Normalizer\PriceItemNormalizer
    tags:
      - { name: normalizer, priority: 9 }
  serialization.commerce_cart_api.field_item:
    class: Drupal\commerce_cart_api\Normalizer\FieldItemNormalizer
    tags:
      - { name: normalizer, priority: 8 }
  serialization.commerce_cart_api.field:
    class: Drupal\commerce_cart_api\Normalizer\FieldNormalizer
    tags:
      - { name: normalizer, priority: 9 }
  serialization.commerce_cart_api.order_items:
    class: Drupal\commerce_cart_api\Normalizer\OrderItemsNormalizer
    arguments: ['@entity.repository']
    tags:
      - { name: normalizer, priority: 9 }

  access_check.cart_api:
    class: Drupal\commerce_cart_api\Access\CartApiAccessCheck
    arguments: ['@commerce_cart.cart_provider']
    tags:
      - { name: access_check, applies_to: _cart_api }
